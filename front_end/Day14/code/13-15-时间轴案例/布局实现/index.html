
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>发展简史jQuery时间轴特效</title>

<link type="text/css" href="css/css.css" rel="stylesheet" />
<script type="text/javascript" src="js/jquery-1.11.0.js"></script>

<style>
    .line{
        width: 100%;
        height: 5px;
        position: absolute;
        top: 1000px;
        background-color: #000;
        z-index: 999;
    }
</style>
</head>
<body>

    <div class="line"></div>
    <div class="history">
        <div class="start-history">
            <p class="cc_history">发展简史</p>
            <p class="next_history">PHYLOGENY</p>
            <div class="history_left">
                <p class="history_L year2006">
                    <span class="history_2006_span">2006</span>
                    <b class="history_2006_b">
                        <span class="history_l_month">10<br/>月</span>
                        <span class="history_l_text">开展基于互联网的视频服务业务<br/>CC视频联盟正式公测</span>
                    </b>
                </p>
                <p class="history_L yearalmost">
                    <span class="history_2006_span">2008</span>
                    <b class="history_2006_b">
                        <span class="history_l_month">10<br/>月</span>
                        <span class="history_l_text">收购康盛创想<br/>旗下视频建站系supev</span>
                    </b>
                </p>
                <p class="history_L year2009">
                    <span class="history_2006_span">2009</span>
                    <b class="history_2006_b">
                        <span class="history_l_month">04<br/>月</span>
                        <span class="history_l_text">推出CMedia视频广告平台，<br/>对旗下视频媒体进行整合营销</span>
                    </b>
                </p>
                <p class="history_L yearalmost">
                    <span class="history_2006_span blue">2010</span>
                    <b class="history_2006_b blue">
                        <span class="history_l_month">01<br/>月</span>
                        <span class="history_l_text">CC视频获得广电总局颁发的<br/>音视频许可证</span>
                    </b>
                </p>
                <p class="history_L yearalmost">
                    <span class="history_2006_span blue">2011</span>
                    <b class="history_2006_b blue">
                        <span class="history_l_month">08<br/>月</span>
                        <span class="history_l_text smalltext">CC视频获得由迪士尼旗下思伟投资、IDG、江苏高科技投资集团的<br/>B轮融资2000万美元</span>
                    </b>
                </p>
                <p class="history_L year2011">
                    <span class="history_2006_span blue">2011</span>
                    <b class="history_2006_b blue">
                        <span class="history_l_month">09<br/>月</span>
                        <span class="history_l_text">CC视频荣获“2011年<br/>中国云计算最佳应用实践奖”</span>
                    </b>
                </p>
                <p class="history_L year2011">
                    <span class="history_2006_span blue">2012</span>
                    <b class="history_2006_b blue">
                        <span class="history_l_month">03<br/>月</span>
                        <span class="history_l_text">CC视频成功举办2012中国<br/>远程教育技术创新与应用论坛</span>
                    </b>
                </p>
                <p class="history_L year2011">
                    <span class="history_2006_span yellow">2012</span>
                    <b class="history_2006_b yellow">
                        <span class="history_l_month">09<br/>月</span>
                        <span class="history_l_text">CC视频发布视频云<br/>开放战略及API2.0</span>
                    </b>
                </p>
                <p class="history_L year2013">
                    <span class="history_2006_span yellow">2013</span>
                    <b class="history_2006_b yellow">
                        <span class="history_l_month">04<br/>月</span>
                        <span class="history_l_text smalltxt">CC视频成功举办2013（第二届）中国<br/>远程教育技术创新与应用论坛</span>
                    </b>
                </p>
                <p class="history_L yearalmost">
                    <span class="history_2006_span yellow">2015</span>
                    <b class="history_2006_b yellow">
                        <span class="history_l_month">01<br/>月</span>
                        <span class="history_l_text full">视频直播CC Live发布</span>
                    </b>
                </p>
            </div>
            <div class="history-img">
                <img class="history_img" src="images/history.png" alt="">
            </div>
            <div class="history_right">
                <p class="history_R history_r_2005">
                    <span class="history_2005_span">2005</span>
                    <b class="history_2005_b">
                        <span class="history_r_month">04<br/>月</span>
                        <span class="history_r_text">CC视频成立<br/>并入住北京大学留学生创业园</span>
                    </b>
                </p>
                <p class="history_R yearalmostr">
                    <span class="history_2005_span">2007</span>
                    <b class="history_2005_b">
                        <span class="history_r_month">12<br/>月</span>
                        <span class="history_r_text">获得国际著名投资商<br/>IDG VC投资 </span>
                    </b>
                </p>
                <p class="history_R yearalmostr">
                    <span class="history_2005_span">2009</span>
                    <b class="history_2005_b">
                        <span class="history_r_month">01<br/>月</span>
                        <span class="history_r_text">整合Pocle和SupeV后<br/>推出CCVMS视频建站系统</span>
                    </b>
                </p>
                <p class="history_R yearalmostr">
                    <span class="history_2005_span">2009</span>
                    <b class="history_2005_b">
                        <span class="history_r_month">12<br/>月</span>
                        <span class="history_r_text">CC视频成为Google在大陆地<br/>区第一家视频广告合作伙伴</span>
                    </b>
                </p>
                <p class="history_R yearalmostr">
                    <span class="history_2005_span blue">2010</span>
                    <b class="history_2005_b blue_R">
                        <span class="history_r_month">10<br/>月</span>
                        <span class="history_r_text">CC视频推出基于视频云计算的<br/>第三方服务平台</span>
                    </b>
                </p>
                <p class="history_R yearalmostr">
                    <span class="history_2005_span blue">2011</span>
                    <b class="history_2005_b blue_R">
                        <span class="history_r_month">08<br/>月</span>
                        <span class="history_r_text">CC视频参展2011年（第十届）<br/>中国互联网大会</span>
                    </b>
                </p>
                <p class="history_R year211">
                    <span class="history_2005_span blue">2011</span>
                    <b class="history_2005_b blue_R">
                        <span class="history_r_month">11<br/>月</span>
                        <span class="history_r_text">CC视频荣获<br/>“最佳云服务模式奖”</span>
                    </b>
                </p>
                <p class="history_R yearalmostr">
                    <span class="history_2005_span yellow">2012</span>
                    <b class="history_2005_b yellow_R">
                        <span class="history_r_month">04<br/>月</span>
                        <span class="history_r_text">CC视频荣获<br/>“最佳视频服务提供商”</span>
                    </b>
                </p>
                <p class="history_R year211">
                    <span class="history_2005_span yellow">2012</span>
                    <b class="history_2005_b yellow_R">
                        <span class="history_r_month">10<br/>月</span>
                        <span class="history_r_text">CC视频荣获“清科集团中国<br/>最具投资价值50强”荣誉</span>
                    </b>
                </p>
                <p class="history_R yearalmostr">
                    <span class="history_2005_span yellow">2014</span>
                    <b class="history_2005_b yellow_R">
                        <span class="history_r_month">10<br/>月</span>
                        <span class="history_r_text">CC视频荣获<br/>“最佳教育技术提供商”荣誉</span>
                    </b>
                </p>
            </div>
            <div class="clear"></div>
        </div>
        <div class="clear"></div>
    </div>


<script type="text/javascript">
    // 动效思路 : 
    // - 如果当前的元素已经显示在页面之中了, 那么我们就把这个元素的margin-right 属性设置为0;

    // scrollTop 
    // - 页面有滚动条的时候才会出现的数值 , 表达的信息就是页面隐藏的高度; 
    // innerHeight 
    // - 浏览器内容高度 ; 

    // scrollTop + innerHieght 

    // window.addEventListener("scroll") 滚动条滚动这个事件就会触发!

    // 获取元素的offsetTop值; 
    
    let history_Ls = document.querySelectorAll(".history_L");

    let history_L_tops = [];

    for(let i = 0  ; i < history_Ls.length ; i ++){
        history_L_tops.push( {
            top : history_Ls[i].offsetTop,
            index : i 
        } );
    }
    // console.log( history_L_tops );

    console.log( history_L_tops , history_Ls);
    // 我们要在scroll 事件之中比对; 
    // - 我们要对比当前显示的告诉是否已经超过当前元素的顶部; 
    // - 如果当前显示的高度已经高于了元素顶部的高度，那么我们就让对应的元素显示; 

    // 注意 : 执行代码，注意性能问题; 
    function handlerScroll(){
        let show_height = innerHeight + ( document.body.scrollTop || document.documentElement.scrollTop );
        // 拿show_height 和数组之中的数据进行比对; 
        // 如果 show_height 高于数组之中的某个元素，那么就让这个元素显示出来; 
        // 设置 margin-right 属性为0;

        // 思考问题 : 一个元素显示了之后我们需要再次比对这个高度么? 
        // - 比对结束之后我们要删除掉数组之中的数据; 

        for(let i = 0 ; i < history_L_tops.length ; i ++ ){
            if( history_L_tops[i].top < show_height ){
                // 这个元素应该显示出来 ; 
                history_Ls[ history_L_tops[i].index ].style.marginRight = 0;
                // 这个数组项删除掉; 
                history_L_tops.splice( i , 1 );
                break;
            }
        }
    }
    window.addEventListener("scroll" , handlerScroll )

</script>

</body>
</html>
